import{S as G,i as J,s as U,k as O,l as $,m as T,h as b,p as k,b as A,K as Ie,n as N,L as De,o as oe,e as ue,g as D,w as xe,d as Y,f as Se,z as te,A as se,B as ne,C as re,M as Ne,r as X,u as K,D as S,N as qe,a as z,O as Ce,c as V,P as Ae,Q as de,q as he}from"../chunks/index.6a8f61a0.mjs";import{_ as Me}from"../chunks/preload-helper.41c905a7.mjs";function ze(n){let e,r,t;return{c(){e=O("div"),this.h()},l(s){e=$(s,"DIV",{style:!0,class:!0}),T(e).forEach(b),this.h()},h(){k(e,"style",n[0]),k(e,"class","m-0")},m(s,o){A(s,e,o),r||(t=Ie(n[1].call(null,e)),r=!0)},p(s,[o]){o&1&&k(e,"style",s[0])},i:N,o:N,d(s){s&&b(e),r=!1,t()}}}function Ve(n,e){return e.forEach(([r,t])=>n[r]=t),n}function Ye(n,e,r){let{target:t=void 0}=e,{sketch:s=void 0}=e,{parentDivStyle:o="display: block;"}=e,{debug:i=!1}=e,u;const a=De(),w={ref(){a("ref",t)},instance(){a("instance",u)}};function g(d){return r(2,t=d),{destroy(){r(2,t=void 0)}}}return oe(async()=>{const d=await Me(()=>import("../chunks/p5.min.7dea8225.mjs").then(f=>f.p),[],import.meta.url),{default:c}=d,m=Object.entries(d).filter(([f,x])=>x instanceof Function&&f[0]!=="_"&&f!=="default");i&&console.log("available p5 native classes",m),u=new c(f=>(f=Ve(f,m),i&&console.log("p5 instance",f),window._p5Instance=f,s(f)),t),w.ref(),w.instance()}),n.$$set=d=>{"target"in d&&r(2,t=d.target),"sketch"in d&&r(3,s=d.sketch),"parentDivStyle"in d&&r(0,o=d.parentDivStyle),"debug"in d&&r(4,i=d.debug)},[o,g,t,s,i]}class Be extends G{constructor(e){super(),J(this,e,Ye,ze,U,{target:2,sketch:3,parentDivStyle:0,debug:4})}}function pe(n){let e,r;return e=new Be({props:{sketch:n[0]}}),{c(){te(e.$$.fragment)},l(t){se(e.$$.fragment,t)},m(t,s){ne(e,t,s),r=!0},p(t,s){const o={};s&1&&(o.sketch=t[0]),e.$set(o)},i(t){r||(D(e.$$.fragment,t),r=!0)},o(t){Y(e.$$.fragment,t),r=!1},d(t){re(e,t)}}}function He(n){let e,r,t=n[0]&&pe(n);return{c(){t&&t.c(),e=ue()},l(s){t&&t.l(s),e=ue()},m(s,o){t&&t.m(s,o),A(s,e,o),r=!0},p(s,[o]){s[0]?t?(t.p(s,o),o&1&&D(t,1)):(t=pe(s),t.c(),D(t,1),t.m(e.parentNode,e)):t&&(xe(),Y(t,1,1,()=>{t=null}),Se())},i(s){r||(D(t),r=!0)},o(s){Y(t),r=!1},d(s){t&&t.d(s),s&&b(e)}}}let me=60;function Re(n,e,r){let t,s=[],{showStep:o}=e;oe(()=>{r(0,t=u=>{u.setup=()=>{u.createCanvas(u.windowWidth,u.windowHeight).position(0,0,"fixed"),s=[new i(450,0,0,0,0),new i(450,0,-30,-60,1),new i(450,0,-40,-80,2)],u.smooth()},u.draw=()=>{u.clear(),u.translate(u.windowWidth*.5,u.windowHeight*.46);for(const a of s)a.display(u),a.update()}})});class i{constructor(a,w,g,d,c){this.radius=a,this.yOff=w,this.offsetX=g,this.offsetY=d,this.index=c}display(a){let w=0;const g=o===1?o:2;a.noFill(),a.stroke(this.index>0?"rgba(255,255,255,0.5)":"white"),a.strokeWeight(this.index>0?1:3),a.noiseDetail(2.8,1),a.beginShape();for(let d=0;d<me;d++){const c=a.map(d,0,me,0,a.TWO_PI),h=this.radius*g*a.cos(c),m=this.radius*g*a.sin(c),f=a.map(a.noise(w,this.yOff),0,1,0,100);c>0&&a.curveVertex(this.offsetX+h,this.offsetY+m+f),w+=.1}a.endShape(a.CLOSE)}update(){this.yOff+=.003*(1/(this.index+1))}}return n.$$set=u=>{"showStep"in u&&r(1,o=u.showStep)},[t,o]}class We extends G{constructor(e){super(),J(this,e,Re,He,U,{showStep:1})}}function ge(n,e,r){const t=n.slice();return t[1]=e[r],t}function ve(n){let e,r=n[1]+"",t;return{c(){e=O("div"),t=X(r),this.h()},l(s){e=$(s,"DIV",{class:!0,"data-step":!0});var o=T(e);t=K(o,r),o.forEach(b),this.h()},h(){k(e,"class","scroll-step svelte-110urh"),k(e,"data-step",n[1])},m(s,o){A(s,e,o),S(e,t)},p:N,d(s){s&&b(e)}}}function je(n){let e,r=n[0],t=[];for(let s=0;s<r.length;s+=1)t[s]=ve(ge(n,r,s));return{c(){e=O("div");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=$(s,"DIV",{class:!0});var o=T(e);for(let i=0;i<t.length;i+=1)t[i].l(o);o.forEach(b),this.h()},h(){k(e,"class","scroll-wrapper svelte-110urh")},m(s,o){A(s,e,o);for(let i=0;i<t.length;i+=1)t[i].m(e,null)},p(s,[o]){if(o&1){r=s[0];let i;for(i=0;i<r.length;i+=1){const u=ge(s,r,i);t[i]?t[i].p(u,o):(t[i]=ve(u),t[i].c(),t[i].m(e,null))}for(;i<t.length;i+=1)t[i].d(1);t.length=r.length}},i:N,o:N,d(s){s&&b(e),Ne(t,s)}}}function Fe(n){return[[1,2,3,4,5,6]]}class Le extends G{constructor(e){super(),J(this,e,Fe,je,U,{})}}function _e(n,{delay:e=0,duration:r=400,easing:t=qe}={}){const s=+getComputedStyle(n).opacity;return{delay:e,duration:r,easing:t,css:o=>`opacity: ${o*s}`}}function Xe(n,e=document){return typeof n=="string"?Array.from(e.querySelectorAll(n)):n instanceof Element?[n]:n instanceof NodeList?Array.from(n):n instanceof Array?n:[]}function Ke(n){const e=document.createElement("div");e.className=`scrollama__debug-step ${n}`,e.style.position="fixed",e.style.left="0",e.style.width="100%",e.style.zIndex="9999",e.style.borderTop="2px solid black",e.style.borderBottom="2px solid black";const r=document.createElement("p");return r.style.position="absolute",r.style.left="0",r.style.height="1px",r.style.width="100%",r.style.borderTop="1px dashed black",e.appendChild(r),document.body.appendChild(e),e}function Qe({id:n,step:e,marginTop:r}){const{index:t,height:s}=e,o=`scrollama__debug-step--${n}-${t}`;let i=document.querySelector(`.${o}`);i||(i=Ke(o)),i.style.top=`${r*-1}px`,i.style.height=`${s}px`,i.querySelector("p").style.top=`${s/2}px`}function Ge(){const n="abcdefghijklmnopqrstuvwxyz",e=Date.now(),r=[];for(let t=0;t<6;t+=1){const s=n[Math.floor(Math.random()*n.length)];r.push(s)}return`${r.join("")}${e}`}function L(n){console.error(`scrollama error: ${n}`)}function j(n){return+n.getAttribute("data-scrollama-index")}function Je(n,e){const r=Math.ceil(n/e),t=[],s=1/r;for(let o=0;o<r+1;o+=1)t.push(o*s);return t}function ee(n){if(typeof n=="string"&&n.indexOf("px")>0){const e=+n.replace("px","");return isNaN(e)?(err("offset value must be in 'px' format. Fallback to 0.5."),{format:"percent",value:.5}):{format:"pixels",value:e}}else if(typeof n=="number"||!isNaN(+n))return n>1&&err("offset value is greater than 1. Fallback to 1."),n<0&&err("offset value is lower than 0. Fallback to 0."),{format:"percent",value:Math.min(Math.max(0,n),1)};return null}function Ue(n){n.forEach(e=>e.node.setAttribute("data-scrollama-index",e.index))}function Ze(n){const{top:e}=n.getBoundingClientRect(),r=window.pageYOffset,t=document.body.clientTop||0;return e+r-t}let R,Q,I;function Ee(n){const e=n?n.scrollTop:window.pageYOffset;R!==e&&(R=e,R>Q?I="down":R<Q&&(I="up"),Q=R)}function et(n){R=0,Q=0,document.addEventListener("scroll",()=>Ee(n))}function tt(){let n={},e=Ge(),r=[],t,s,o,i=0,u=!1,a=!1,w=!1,g=!1,d=[];function c(){n={stepEnter:()=>{},stepExit:()=>{},stepProgress:()=>{}},d=[]}function h(l){l&&!u&&Z(),!l&&u&&le(),u=l}function m(l,v){const p=j(l),_=r[p];v!==void 0&&(_.progress=v);const E={element:l,index:p,progress:v,direction:I};_.state==="enter"&&n.stepProgress(E)}function f(l,v=!0){const p=j(l),_=r[p],E={element:l,index:p,direction:I};_.direction=I,_.state="enter",d[p]||n.stepEnter(E),g&&(d[p]=!0)}function x(l,v=!0){const p=j(l),_=r[p];if(!_.state)return!1;const E={element:l,index:p,direction:I};a&&(I==="down"&&_.progress<1?m(l,1):I==="up"&&_.progress>0&&m(l,0)),_.direction=I,_.state="exit",n.stepExit(E)}function P([l]){const v=j(l.target),p=r[v],_=l.target.offsetHeight;_!==p.height&&(p.height=_,ie(p),ce(p),ae(p))}function q([l]){Ee(s);const{isIntersecting:v,target:p}=l;v?f(p):x(p)}function ke([l]){const v=j(l.target),p=r[v],{isIntersecting:_,intersectionRatio:E,target:C}=l;_&&p.state==="enter"&&m(C,E)}function ie({observers:l}){Object.keys(l).map(v=>{l[v].disconnect()})}function le(){r.forEach(ie)}function ae(l){const v=new ResizeObserver(P);v.observe(l.node),l.observers.resize=v}function Oe(){r.forEach(ae)}function ce(l){const v=window.innerHeight,p=l.offset||t,_=p.format==="pixels"?1:v,E=p.value*_,C=l.height/2-E,B=l.height/2-(v-E),H={rootMargin:`${C}px 0px ${B}px 0px`,threshold:.5,root:o},fe=new IntersectionObserver(q,H);fe.observe(l.node),l.observers.step=fe,w&&Qe({id:e,step:l,marginTop:C,marginBottom:B})}function $e(){r.forEach(ce)}function Pe(l){const v=window.innerHeight,p=l.offset||t,_=p.format==="pixels"?1:v,E=p.value*_,C=-E+l.height,B=E-v,W=`${C}px 0px ${B}px 0px`,F=Je(l.height,i),M={rootMargin:W,threshold:F},H=new IntersectionObserver(ke,M);H.observe(l.node),l.observers.progress=H}function Te(){r.forEach(Pe)}function Z(){le(),Oe(),$e(),a&&Te()}const y={};return y.setup=({step:l,parent:v,offset:p=.5,threshold:_=4,progress:E=!1,once:C=!1,debug:B=!1,container:W=void 0,root:F=null})=>(et(W),r=Xe(l,v).map((M,H)=>({index:H,direction:void 0,height:M.offsetHeight,node:M,observers:{},offset:ee(M.dataset.offset),top:Ze(M),progress:0,state:void 0})),r.length?(a=E,g=C,w=B,i=Math.max(1,+_),t=ee(p),s=W,o=F,c(),Ue(r),h(!0),y):(L("no step elements"),y)),y.enable=()=>(h(!0),y),y.disable=()=>(h(!1),y),y.destroy=()=>(h(!1),c(),y),y.resize=()=>(Z(),y),y.offset=l=>l==null?t.value:(t=ee(l),Z(),y),y.onStepEnter=l=>(typeof l=="function"?n.stepEnter=l:L("onStepEnter requires a function"),y),y.onStepExit=l=>(typeof l=="function"?n.stepExit=l:L("onStepExit requires a function"),y),y.onStepProgress=l=>(typeof l=="function"?n.stepProgress=l:L("onStepProgress requires a function"),y),y}function be(n){let e,r,t,s,o,i,u,a,w,g,d;return{c(){e=O("div"),r=O("span"),t=X("YuNing Chang"),s=z(),o=O("span"),i=X("-"),u=z(),a=O("span"),w=X("Technology x Business x Creator"),this.h()},l(c){e=$(c,"DIV",{class:!0});var h=T(e);r=$(h,"SPAN",{class:!0});var m=T(r);t=K(m,"YuNing Chang"),m.forEach(b),s=V(h),o=$(h,"SPAN",{class:!0});var f=T(o);i=K(f,"-"),f.forEach(b),u=V(h),a=$(h,"SPAN",{class:!0});var x=T(a);w=K(x,"Technology x Business x Creator"),x.forEach(b),h.forEach(b),this.h()},h(){k(r,"class","svelte-eh9sfq"),k(o,"class","svelte-eh9sfq"),k(a,"class","svelte-eh9sfq"),k(e,"class","introduction svelte-eh9sfq")},m(c,h){A(c,e,h),S(e,r),S(r,t),S(e,s),S(e,o),S(o,i),S(e,u),S(e,a),S(a,w),d=!0},i(c){d||(Ae(()=>{g||(g=de(e,_e,{duration:1200},!0)),g.run(1)}),d=!0)},o(c){g||(g=de(e,_e,{duration:1200},!1)),g.run(0),d=!1},d(c){c&&b(e),c&&g&&g.end()}}}function ye(n){return{c:N,l:N,m:N,d:N}}function we(n){let e,r;return{c(){e=O("div"),r=O("div"),this.h()},l(t){e=$(t,"DIV",{class:!0,style:!0});var s=T(e);r=$(s,"DIV",{class:!0}),T(r).forEach(b),s.forEach(b),this.h()},h(){k(r,"class","scroll-me-hint svelte-eh9sfq"),k(e,"class","scroll-me svelte-eh9sfq"),he(e,"transform","translate(0px,"+n[1]+"px)")},m(t,s){A(t,e,s),S(e,r)},p(t,s){s&2&&he(e,"transform","translate(0px,"+t[1]+"px)")},d(t){t&&b(e)}}}function st(n){let e,r,t,s,o,i,u,a,w,g,d;s=new We({props:{showStep:n[0]}});let c=n[0]===1&&be(),h=n[0]===2&&ye(),m=n[0]>=1&&we(n);return g=new Le({}),{c(){e=O("meta"),r=z(),t=O("section"),te(s.$$.fragment),o=z(),i=O("div"),c&&c.c(),u=z(),h&&h.c(),a=z(),m&&m.c(),w=z(),te(g.$$.fragment),this.h()},l(f){const x=Ce("svelte-8gb88t",document.head);e=$(x,"META",{name:!0,content:!0}),x.forEach(b),r=V(f),t=$(f,"SECTION",{});var P=T(t);se(s.$$.fragment,P),o=V(P),i=$(P,"DIV",{class:!0});var q=T(i);c&&c.l(q),u=V(q),h&&h.l(q),a=V(q),m&&m.l(q),q.forEach(b),w=V(P),se(g.$$.fragment,P),P.forEach(b),this.h()},h(){document.title="Home",k(e,"name","description"),k(e,"content","Svelte demo app"),k(i,"class","main-wrapper svelte-eh9sfq")},m(f,x){S(document.head,e),A(f,r,x),A(f,t,x),ne(s,t,null),S(t,o),S(t,i),c&&c.m(i,null),S(i,u),h&&h.m(i,null),S(i,a),m&&m.m(i,null),S(t,w),ne(g,t,null),d=!0},p(f,[x]){const P={};x&1&&(P.showStep=f[0]),s.$set(P),f[0]===1?c?x&1&&D(c,1):(c=be(),c.c(),D(c,1),c.m(i,u)):c&&(xe(),Y(c,1,1,()=>{c=null}),Se()),f[0]===2?h||(h=ye(),h.c(),h.m(i,a)):h&&(h.d(1),h=null),f[0]>=1?m?m.p(f,x):(m=we(f),m.c(),m.m(i,null)):m&&(m.d(1),m=null)},i(f){d||(D(s.$$.fragment,f),D(c),D(g.$$.fragment,f),d=!0)},o(f){Y(s.$$.fragment,f),Y(c),Y(g.$$.fragment,f),d=!1},d(f){b(e),f&&b(r),f&&b(t),re(s),c&&c.d(),h&&h.d(),m&&m.d(),re(g)}}}function nt(n,e,r){let t;const s=tt();let o=0;return oe(()=>{s.setup({step:".scroll-step"}).onStepEnter(i=>{r(0,o=i.index)}).onStepExit(i=>console.log("out",i))}),n.$$.update=()=>{n.$$.dirty&1&&r(1,t=o===1?0:250)},[o,t]}class it extends G{constructor(e){super(),J(this,e,nt,st,U,{})}}export{it as default};
